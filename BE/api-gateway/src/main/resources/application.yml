server:
  port: ${API_GATEWAY_SERVER_PORT:21500}
spring:
  application.name: api-gateway
  main:
    allow-bean-definition-overriding: true
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_ISSUER_URI:http://localhost:8080/realms/master}
          jwk-set-uri: ${KEYCLOAK_JWK_SET_URI:http://localhost:8080/realms/master/protocol/openid-connect/certs}
  

# Keycloak Configuration
keycloak:
  auth-server-url: ${KEYCLOAK_AUTH_SERVER_URL:http://localhost:8080}
  realm: ${KEYCLOAK_REALM:master}
  resource: ${KEYCLOAK_RESOURCE:api-gateway}
  public-client: true
  principal-attribute: preferred_username

# Public Routes Configuration
app:
  security:
    public-routes:
      - "/api/public/**"
      - "/api/auth/**"
      - "/api/v1/auth/public/**"
      - "/actuator/health"
      - "/swagger-ui/**"
      - "/v3/api-docs/**"
      - "/error"

services:
  user:
    base-url: ${USER_SERVICE_BASE_URL:http://localhost:22001}

      
      
